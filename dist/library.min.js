var charSet="LMEry3CbeUAzt08nOxHhpc1ufsTSRia92jVGPIvNoJKZQdm6WlXFYgqkD7B54w";function shift(e,t){for(var n="",r=0;r<e.length;r++)n+=charSet[(charSet.indexOf(e[r])+t)%charSet.length];return n}function unShift(e,t){for(var n=charSet.split("").reverse(),r="",i=0;i<e.length;i++)r+=n[(n.indexOf(e[i])+t)%n.length];return r}function a2hex(e){for(var t="",n=0,r=e.length;n<r;n++)t+=Number(e.charCodeAt(n)).toString(16);return t}function hex2a(e){for(var t=e.toString(),n="",r=0;r<t.length;r+=2)n+=String.fromCharCode(parseInt(t.substr(r,2),16));return n}function genPassPhrase(e,t){for(t=hash(t);e>t.length;)t+=hash(t);return t+=hash(t)}function cipherHash(e,t){t=genPassPhrase((e=a2hex(e)).length,t);for(var n="",r=0;r<e.length;r++)n+=shift(e[r].toString(),charSet.indexOf(t[r]));return n}function hash(e){return CryptoJS.SHA256(e.toString()).toString()}function unCipherHash(e,t){t=genPassPhrase(e.length,t);for(var n="",r=0;r<e.length;r++)n+=unShift(e[r].toString(),charSet.indexOf(t[r]));return hex2a(n)}var CryptoJS=CryptoJS||function(a){function n(){}var e={},t=e.lib={},r=t.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=a.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*a.random()|0);return new c.init(t,e)}}),i=e.enc={},o=i.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},s=i.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},u=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},h=t.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,o=r/(4*i),o=e?a.ceil(o):a.max((0|o)-this._minBufferSize,0),r=a.min(4*(e=o*i),r);if(e){for(var s=0;s<e;s+=i)this._doProcessBlock(n,s);s=n.splice(0,e),t.sigBytes-=r}return new c.init(s,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=h.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new l.HMAC.init(n,t).finalize(e)}}});var l=e.algo={};return e}(Math);!function(i){function e(e){return 4294967296*(e-(0|e))|0}for(var t=CryptoJS,n=(o=t.lib).WordArray,r=o.Hasher,o=t.algo,s=[],p=[],a=2,c=0;c<64;){e:{for(var u=a,h=i.sqrt(u),l=2;l<=h;l++)if(!(u%l)){u=!1;break e}u=!0}u&&(c<8&&(s[c]=e(i.pow(a,.5))),p[c]=e(i.pow(a,1/3)),c++),a++}var y=[],o=o.SHA256=r.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n,r,i=this._hash.words,o=i[0],s=i[1],a=i[2],c=i[3],u=i[4],h=i[5],l=i[6],f=i[7],d=0;d<64;d++)d<16?y[d]=0|e[t+d]:(n=y[d-15],r=y[d-2],y[d]=((n<<25|n>>>7)^(n<<14|n>>>18)^n>>>3)+y[d-7]+((r<<15|r>>>17)^(r<<13|r>>>19)^r>>>10)+y[d-16]),n=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&h^~u&l)+p[d]+y[d],r=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&s^o&a^s&a),f=l,l=h,h=u,u=c+n|0,c=a,a=s,s=o,o=n+r|0;i[0]=i[0]+o|0,i[1]=i[1]+s|0,i[2]=i[2]+a|0,i[3]=i[3]+c|0,i[4]=i[4]+u|0,i[5]=i[5]+h|0,i[6]=i[6]+l|0,i[7]=i[7]+f|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(64+r>>>9<<4)]=i.floor(n/4294967296),t[15+(64+r>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(o),t.HmacSHA256=r._createHmacHelper(o)}(Math);try{module.exports.unCipherHash=unCipherHash,module.exports.cipherHash=cipherHash,module.exports.hash=hash}catch(e){}function Library(b,r,_,w="http://llib.sh/dwey"){let A={};function E(e){let t=parseInt((new Date).getTime()/3e4);return cipherHash(t.toString(),e)}this.get=v=>new Promise(async function(y,g){let m=(new Date).getTime()+parseInt(1e6*Math.random()).toString(16);const n=io(`${new URL(w).hostname}${""!=new URL(w).port?":"+new URL(w).port:""}/`);n.on("connect",async()=>{const u=new Simple({initiator:!0},n,m);let h=[],t=0,l=0,f=0,d={},p=0,e=!1;u.on("connect",e=>{l+=1,u.send(e,`PACKET ${t} `+l),t++}),u.on("data",function(r){var i=r[0];let o=r[1];var s,a=o.toString().split(" ");if("META"==a[0])console.log("META"),d[i]={index:a[1],token:a[2],user:a[3],packets:0},p=parseInt(a[4]),void 0===h[a[1]]&&(h[a[1]]=[]),h[a[1]].push({done:!1,buffer:[],id:i,token:a[2]});else if("DATA"==a[0]&&"END"==a[1]){if(u.destroy(i),h[d[i].index][h[d[i].index].length-1].done=!0,f>=p&&!e){console.timeEnd(),u.destroy(),e=!0,console.log(h,d);let t=[];for(let e=0;e<h.length;e++){const b=h[e];for(let e=0;e<b.length;e++){var c=b[e].buffer;t=t.concat(c)}}t.sort((e,t)=>e.index-t.index);let n="";t.forEach(e=>{n+=e.data.toString()});detectMimeType(n);y(fetch(n).catch(g)),fetch(w+"/close",{method:"POST",headers:{"Content-Type":"application/json",contract:m,token:E(_),user:b,file:v},body:JSON.stringify(d)})}}else{let e=smartload(d[i].index,l,p),t=0;h[d[i].index].forEach(e=>{e.buffer.forEach(e=>{t+=e.data.length})}),t+=o.length;r={index:e[h[d[i].index].length-1].start+t-o.length,data:o};a="data",s=r,A[a]&&A[a].forEach(e=>{e(s)}),h[d[i].index][h[d[i].index].length-1].buffer.push(r);let n=0;e.forEach(e=>{n+=e.stop-e.start}),t>=n&&(f+=t,d[i].packets+=t)}}),u.init(),await fetch(`${w}/${b}/${E(_)}/${v}/`+r,{method:"GET",headers:{contract:m}})})}),this.post=n=>new Promise(function(e,t){fetch(w+"/upload",{method:"POST",headers:{token:E(_),user:b},body:n}).then(e=>e.json()).then(e).catch(t)}),this.on=(e,t)=>{A[e]||(A[e]=[]),A[e].push(t)}}const signatures={AAAaAAUQBA:"application/vnd.lotus-1-2-3",TVo:"application/octet-stream","3Nw":"application/cpl+xml",UEsDBAoAAgA:"application/epub+zip",AAEAAAA:"application/font-sfnt",H4sI:"application/gzip",KFRoaXMgZmlsZSBtdXN0IGJlIGNvbnZlcnRlZCB3aXRoIEJpbkhleCA:"application/mac-binhex40",DURPQw:"application/msword",zxHgobEa4QA:"application/msword","0M8R4KGxGuE":"text/vnd.graphviz","26UtAA":"application/msword",UeylwQA:"application/msword",Bg4rNAIFAQENAQIBAQI:"application/mxf",PENUcmFuc1RpbWVsaW5lPg:"application/mxf",LWxo:"application/octet-stream",yv66vg:"application/octet-stream",AAEAAFN0YW5kYXJkIEpldCBEQg:"application/octet-stream",UElDVAAI:"application/octet-stream","UUZJ+w":"application/octet-stream",U0NNSQ:"application/octet-stream","fnQsAVBwAk1SAQAAAAgAAAABAAAxAAAAMQAAAEMB/wABAAgAAQAAAH50LAE":"application/octet-stream","6zyQKg":"application/octet-stream",MnZDRDAwMQ:"application/octet-stream",NIFDRDAwMQ:"application/octet-stream",NoZDRDAwMQ:"application/octet-stream",T2dnUwACAAAAAAAAAAA:"video/ogg",UEsDBA:"application/x-xpinstall",JVBERg:"application/vnd.fdf",ZAAAAA:"application/pkcs10",W3BsYXlsaXN0XQ:"application/pls+xml",JSFQUy1BZG9iZS0zLjAgRVBTRi0zIDA:"application/postscript",xdDTxg:"application/postscript",e1xydGYx:"application/rtf",Rw:"text/vnd.trolltech.linguist",Ly8gPCEtLSA8bWRiOm1vcms6eg:"application/vnd.epson.msf",PE1ha2VyRmlsZSA:"application/vnd.mif",ACCvMA:"application/vnd.groove-tool-template",bXNGaWx0ZXJMaXN0:"application/vnd.groove-tool-template",AAAaAAIQBAAAAAAA:"application/vnd.lotus-1-2-3",AAAaAAAQBAAAAAAA:"application/vnd.lotus-1-2-3",AAACAAYEBgAIAAAAAAA:"application/vnd.lotus-1-2-3",GgAABAAA:"application/vnd.lotus-notes",TkVTTRoB:"application/vnd.lotus-notes",GgAA:"application/vnd.lotus-notes",MDFPUkROQU5DRSBTVVJWRVkgICAgICAg:"application/vnd.lotus-notes",TklURjA:"application/vnd.lotus-notes",QU9MVk0xMDA:"application/vnd.lotus-organizer",V29yZFBybw:"application/vnd.lotus-wordpro",W1Bob25lXQ:"application/vnd.lotus-wordpro",VmVyc2lvbiA:"application/vnd.mif","PD94bWwgdmVyc2lvbj0iMS4wIj8+":"application/vnd.mozilla.xul+xml",MCaydY5mzxGm2QCqAGLObA:"video/x-ms-wmv",SVNjKA:"image/vnd.radiance",TVNDRg:"application/vnd.ms-cab-compressed",UQkIEAAABgUA:"image/vnd.zbrush.pcx","Uf3///8E":"application/vnd.ms-powerpoint","Uf3///8gAAAA":"application/vnd.ms-excel",SVRTRg:"application/vnd.ms-htmlhelp",UQBuHvA:"application/vnd.ms-powerpoint",UQ8A6AM:"application/vnd.ms-powerpoint",UaBGHfA:"application/vnd.ms-powerpoint",DldLUw:"application/vnd.ms-works","/wACAAQEBVQCAA":"application/vnd.ms-works",hE1pY3Jvc29mdCBXaW5kb3dzIE1lZGlhIFBsYXllciAtLSA:"application/vnd.ms-wpl",W1ZlcnNpb24:"application/vnd.multiad.creator.cif",UEsDBBQABgA:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",Qk9PS01PQkk:"application/vnd.palm",YHRCTVBLbldy:"application/vnd.palm",EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA:"application/vnd.palm",TS1XIFBvY2tldCBEaWN0aQ:"application/vnd.palm",TWljcm9zb2Z0IEMvQysrIA:"application/vnd.palm",c21f:"application/vnd.palm",c3pleg:"application/vnd.palm",rO0ABXNyABJiZ2JsaXR6Lg:"application/vnd.palm",AABNTVhQUg:"application/vnd.Quark.QuarkXPress",UmFyIRoHAA:"application/vnd.rar",UmFyIRoHAQA:"application/vnd.rar",TU1NRAAA:"application/vnd.smaf",UlRTUw:"application/vnd.tcpdump.pcap",WENQAA:"application/vnd.tcpdump.pcap",TURNUJOn:"application/vnd.tcpdump.pcap",UEFHRURVNjQ:"application/vnd.tcpdump.pcap",UEFHRURVTVA:"application/vnd.tcpdump.pcap","/1dQQw":"application/vnd.wordperfect",eGFyIQ:"application/vnd.xara",U1BGSQA:"application/vnd.yamaha.smaf-phrase",B2R0MmRkdGQ:"application/xml-dtd",UEsDBBQAAQBjAAAAAAA:"application/zip",UEsHCA:"application/zip",MFBLTElURQ:"application/zip",UlBLU3BY:"application/zip",KRVXaW5aaXA:"application/zip",IyFBTVI:"audio/AMR",LnNuZA:"audio/basic",ZG5zLg:"audio/basic",AAAAIGZ0eXBNNEEg:"audio/mp4",ZnR5cE00QSA:"audio/mp4",SUQz:"audio/mpeg","//s":"audio/mpeg",UklGRg:"video/x-msvideo",SUQzAwAAAA:"audio/vnd.audikoz",Qk0:"image/bmp",AQAAAA:"image/emf",U0lNUExFICA9ICAgICAgICAgICAgICAgICAgICBU:"image/fits",R0lGODlh:"image/gif",AAAADGpQICANCg:"image/jp2","/9g":"video/mpeg",iVBORw0KGgo:"image/png",SSBJ:"image/tiff",SUkqAA:"image/tiff",TU0AKg:"image/tiff",TU0AKw:"image/tiff",OEJQUw:"image/vnd.adobe.photoshop",QUMxMA:"image/vnd.dwg",AAABAA:"application/x-futuresplash",RVA:"image/vnd.ms-modi",Iz9SQURJQU5DRQo:"image/vnd.radiance",AQAJAAAD:"image/wmf","183Gmg":"image/wmf",RnJvbTog:"message/rfc822",UmV0dXJuLVBhdGg6IA:"message/rfc822",WC0:"message/rfc822",SkcEDg:"message/rfc822",PD94bWwgdmVyc2lvbj0:"text/cache-manifest",KioqICBJbnN0YWxsYXRpb24gU3RhcnRlZCA:"text/plain",QkVHSU46VkNBUkQNCg:"text/vcard",RE1TIQ:"text/vnd.DMClientScript",AAAAFGZ0eXAzZ3A:"video/3gpp2",AAAAIGZ0eXAzZ3A:"video/3gpp2",AAAAFGZ0eXBpc29t:"video/mp4",AAAAGGZ0eXAzZ3A1:"video/mp4",AAAAHGZ0eXBNU05WASkARk1TTlZtcDQy:"video/mp4",ZnR5cDNncDU:"video/mp4",ZnR5cE1TTlY:"video/mp4",ZnR5cGlzb20:"video/mp4",AAAAGGZ0eXBtcDQy:"video/mp4",AAAAIGZ0eXBNNFYg:"video/x-flv",ZnR5cG1wNDI:"video/mp4",AAABug:"video/mpeg",AA:"video/quicktime",AAAAFGZ0eXBxdCAg:"video/quicktime",ZnR5cHF0ICA:"video/quicktime",bW9vdg:"video/quicktime",Q1BUN0ZJTEU:"application/mac-compactpro",Q1BURklMRQ:"application/mac-compactpro",Qlpo:"application/x-bzip2",RU5UUllWQ0QCAAABAgAYWA:"application/x-cdlink",Y3VzaAAAAAIAAAA:"application/x-csh",SkFSQ1MA:"application/x-java-archive",UEsDBBQACAAIAA:"application/x-java-archive",XyeoiQ:"application/x-java-archive","7avu2w":"application/x-rpm",Q1dT:"application/x-shockwave-flash",RldT:"application/x-shockwave-flash",WldT:"application/x-shockwave-flash",U0lUIQA:"application/x-stuffit",U3R1ZmZJdCAoYykxOTk3LQ:"application/x-stuffit",JXVzdGFy:"application/x-tar","/Td6WFoA":"application/x-xz",TVRoZA:"audio/midi",Rk9STQA:"audio/x-aiff",ZkxhQwAAACI:"audio/x-flac",cnRzcDovLw:"audio/x-pn-realaudio",LlJNRg:"audio/x-pn-realaudio",LlJNRgAAABIA:"audio/x-realaudio","LnJh/QA":"audio/x-realaudio",UDUK:"image/x-portable-graymap",AdoBAQAD:"image/x-rgb",GkXfow:"video/x-matroska",RkxWAQ:"video/x-flv",PA:"video/x-ms-asf"};function detectMimeType(e){for(var t in signatures)if(0===e.indexOf(t))return signatures[t]}function Simple(e,r,t){let i={},o={},s={};function a(e,t){for(const n of s[e])n(t)}this.init=()=>{r.on("C"+t,e=>{let n=e.id;if("REQ CONN"==e.action){o[n]=!1,i[n]=new SimplePeer({initiator:!0});let t=!1;i[n].on("signal",async e=>t?null:(t=!0,void r.emit("return",{data:e,id:n})))}else"CONN INFO"!=e.action||o[n]||(o[n]=!0,i[n].signal(e.data),i[n].on("connect",()=>{a("connect",n)}),i[n].on("data",e=>{a("data",[n,e])}))})},this.send=(e,t)=>{i[e].send(t)},this.on=(e,t)=>{s[e]||(s[e]=[]),s[e].push(t)},this.destroy=e=>{if(void 0!==e)i[e].destroy(),delete i[e],delete o[e];else{var t=Object.keys(i);for(let e=0;e<t.length;e++)i[t[e]].destroy(),delete i[t[e]],delete o[t[e]]}}}function smartload(n,e,t){let r=[0,t/2,t],i=[0,t/2];for(;r.length<=e;)for(let t=0;t<r.length&&!(t+1>r.length-1);t++){var o=r[t];let e=(r[t+1]-o)/2+o;i.push(e),r=r.slice(0,Math.max(t+1,1)).concat([e].concat(r.slice(Math.max(t+1,1)))),t+=1}let s=(a=i,c=e,Array(Math.ceil(a.length/c)).fill().map((e,t)=>a.slice(t*c,t*c+c)));var a,c;let u=[];for(let t=0;t<s.length;t++)u.push({start:s[t][n],stop:r.filter(e=>e>s[t][n])[0]});return u}!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window).SimplePeer=e()}(function(){var g=Math.floor,m=Math.abs,B=Math.pow;return function r(i,o,s){function a(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return a(i[t][1][e]||e)},n,n.exports,r,i,o,s)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){"use strict";function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}function a(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(16711680&e[o]<<16)+(65280&e[o+1]<<8)+(255&e[o+2]),i.push(u[63&r>>18]+u[63&r>>12]+u[63&r>>6]+u[63&r]);return i.join("")}n.byteLength=function(e){var t=c(e),e=t[0],t=t[1];return 3*(e+t)/4-t},n.toByteArray=function(e){for(var t,n=(r=c(e))[0],r=r[1],i=new l(3*(n+r)/4-r),o=0,s=0<r?n-4:n,a=0;a<s;a+=4)t=h[e.charCodeAt(a)]<<18|h[e.charCodeAt(a+1)]<<12|h[e.charCodeAt(a+2)]<<6|h[e.charCodeAt(a+3)],i[o++]=255&t>>16,i[o++]=255&t>>8,i[o++]=255&t;return 2===r&&(t=h[e.charCodeAt(a)]<<2|h[e.charCodeAt(a+1)]>>4,i[o++]=255&t),1===r&&(t=h[e.charCodeAt(a)]<<10|h[e.charCodeAt(a+1)]<<4|h[e.charCodeAt(a+2)]>>2,i[o++]=255&t>>8,i[o++]=255&t),i},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(a(e,o,s<o+16383?s:o+16383));return 1==r?(t=e[n-1],i.push(u[t>>2]+u[63&t<<4]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(u[t>>10]+u[63&t>>4]+u[63&t<<2]+"=")),i.join("")};for(var u=[],h=[],l="undefined"==typeof Uint8Array?Array:Uint8Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)u[i]=r[i],h[r.charCodeAt(i)]=i;h[45]=62,h[95]=63},{}],2:[function(){},{}],3:[function(e,t,N){!function(){!function(){"use strict";var f=String.fromCharCode,d=Math.min;function i(e){if(2147483647<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return e.__proto__=l.prototype,e}function l(e,t,n){if("number"!=typeof e)return r(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}function r(e,t,n){if("string"==typeof e)return function(e,t){if(!l.isEncoding(t="string"!=typeof t||""===t?"utf8":t))throw new TypeError("Unknown encoding: "+t);var n=0|u(e,t),r=i(n),t=r.write(e,t);return r=t!==n?r.slice(0,t):r}(e,t);if(ArrayBuffer.isView(e))return a(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');return(n=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=l.prototype,n}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);r=function(e){if(l.isBuffer(e)){var t=0|c(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0===e.length?"Buffer"===e.type&&Array.isArray(e.data)?a(e.data):void 0:"number"!=typeof e.length||S(e.length)?i(0):a(e)}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function o(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return o(e),i(e<0?0:0|c(e))}function a(e){for(var t=e.length<0?0:0|c(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function c(e){if(2147483647<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function u(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(i)return r?-1:E(e).length;t=(""+t).toLowerCase(),i=!0}}function t(e,t,n){var r,i,o,s=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!n||n<0||r<n)&&(n=r);for(var i="",o=t=!t||t<0?0:t;o<n;++o)i+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[o]);return i}(this,t,n);case"utf8":case"utf-8":return m(this,t,n);case"ascii":return function(e,t,n){var r="";n=d(e.length,n);for(var i=t;i<n;++i)r+=f(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=d(e.length,n);for(var i=t;i<n;++i)r+=f(e[i]);return r}(this,t,n);case"base64":return r=this,o=n,0===(i=t)&&o===r.length?T.fromByteArray(r):T.fromByteArray(r.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=f(r[o]+256*r[o+1]);return i}(this,t,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),(n=(n=S(n=+n)?i?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:p(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):p(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function p(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=(r+"").toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=s=2,c/=2,n/=2}if(i){for(var u=-1,h=n;h<a;h++)if(o(e,h)!==o(t,-1===u?0:h-u))-1!==u&&(h-=h-u),u=-1;else if(h-(u=-1===u?h:u)+1===c)return u*s}else for(h=n=a<n+c?a-c:n;0<=h;h--){for(var l=!0,f=0;f<c;f++)if(o(e,h+f)!==o(t,f)){l=!1;break}if(l)return h}return-1}function y(e,t,n,r){return k(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function g(e,t,n,r){return k(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,r=r%256,i.push(r),i.push(n);return i}(t,e.length-n),e,n,r)}function m(e,t,n){n=d(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,c,u=e[i],h=null,l=239<u?4:223<u?3:191<u?2:1;i+l<=n&&(1===l?u<128&&(h=u):2===l?128!=(192&(o=e[i+1]))||127<(c=(31&u)<<6|63&o)&&(h=c):3===l?(o=e[i+1],s=e[i+2],128!=(192&o)||128!=(192&s)||2047<(c=(15&u)<<12|(63&o)<<6|63&s)&&(c<55296||57343<c)&&(h=c)):4===l&&(o=e[i+1],s=e[i+2],a=e[i+3],128!=(192&o)||128!=(192&s)||128!=(192&a)||65535<(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)&&c<1114112&&(h=c))),null===h?(h=65533,l=1):65535<h&&(h-=65536,r.push(55296|1023&h>>>10),h=56320|1023&h),r.push(h),i+=l}return function(e){var t=e.length;if(t<=4096)return f.apply(String,e);for(var n="",r=0;r<t;)n+=f.apply(String,e.slice(r,r+=4096));return n}(r)}function v(e,t,n){if(0!=e%1||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function b(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function _(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function w(e,t,n,r,i){return t=+t,n>>>=0,i||_(e,0,n,4),x.write(e,t,n,r,23,4),n+4}function A(e,t,n,r,i){return t=+t,n>>>=0,i||_(e,0,n,8),x.write(e,t,n,r,52,8),n+8}function E(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=e.charCodeAt(s))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(192|n>>6,128|63&n)}else if(n<65536){if((t-=3)<0)break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}}return o}function R(e){return T.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;0!=e.length%4;)e+="=";return e}(e))}function k(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function S(e){return e!=e}var T=e("base64-js"),x=e("ieee754");N.Buffer=l,N.SlowBuffer=function(e){return l.alloc(+(e=+e!=e?0:e))},N.INSPECT_MAX_BYTES=50,N.kMaxLength=2147483647,(l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){return l.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){return l.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=r,l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(e,t,n){return t=t,n=n,o(e=e),e<=0||void 0===t?i(e):"string"==typeof n?i(e).fill(t,n):i(e).fill(t)},l.allocUnsafe=s,l.allocUnsafeSlow=s,l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(C(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=d(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=l.allocUnsafe(t),r=0,i=0;i<e.length;++i){var o=e[i];if(C(o,Uint8Array)&&(o=l.from(o)),!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},l.byteLength=u,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)n(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)n(this,t,t+3),n(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)n(this,t,t+7),n(this,t+1,t+6),n(this,t+2,t+5),n(this,t+3,t+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?m(this,0,e):t.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=N.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(C(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=d(o,s),c=this.slice(r,i),u=e.slice(t,n),h=0;h<a;++h)if(c[h]!==u[h]){o=c[h],s=u[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,s,a,c=!1;;)switch(r){case"hex":return function(e,t,n,r){var i=e.length-(n=+n||0);r?i<(r=+r)&&(r=i):r=i,(i=t.length)/2<r&&(r=i/2);for(var o,s=0;s<r;++s){if(S(o=parseInt(t.substr(2*s,2),16)))return s;e[n+s]=o}return s}(this,e,t,n);case"utf8":case"utf-8":return s=t,a=n,k(E(e,(o=this).length-s),o,s,a);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return o=this,s=t,a=n,k(R(e),o,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,t,n);default:if(c)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),c=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);t=this.subarray(e,t);return t.__proto__=l.prototype,t},l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=B(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=B(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},l.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),x.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),x.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),x.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),x.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||b(this,e,t,n,B(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=255&e/i;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||b(this,e,t,n,B(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=255&e/o;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){e=+e,t>>>=0,r||b(this,e,t,n,(r=B(2,8*n-1))-1,-r);var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=255&(e/o>>0)-s;return t+n},l.prototype.writeIntBE=function(e,t,n,r){e=+e,t>>>=0,r||b(this,e,t,n,(r=B(2,8*n-1))-1,-r);var i=n-1,o=1,s=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=255&(e/o>>0)-s;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||b(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return w(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return w(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var i=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var i;1===e.length&&(i=e.charCodeAt(0),("utf8"===r&&i<128||"latin1"===r)&&(e=i))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:l.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var O=/[^+/0-9A-Za-z-_]/g}.call(this)}.call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(n,i,r){!function(t){!function(){r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"===e||(t++,"%c"===e&&(n=t))}),e.splice(n,0,r)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e},r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),i.exports=n("./common")(r);const e=i.exports["formatters"];e.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}.call(this)}.call(this,n("_process"))},{"./common":5,_process:12}],5:[function(e,t){t.exports=function(t){function c(e){function s(...i){if(s.enabled){const o=s,e=+new Date,t=e-(a||e);o.diff=t,o.prev=a,o.curr=e,a=e,i[0]=c.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let r=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";r++;const n=c.formatters[t];if("function"==typeof n){const t=i[r];e=n.call(o,t),i.splice(r,1),r--}return e}),c.formatArgs.call(o,i);const n=o.log||c.log;n.apply(o,i)}}let a,t=null;return s.namespace=e,s.useColors=c.useColors(),s.color=c.selectColor(e),s.extend=n,s.destroy=c.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===t?c.enabled(e):t,set:e=>{t=e}}),"function"==typeof c.init&&c.init(s),s}function n(e,t){const n=c(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((c.debug=c).default=c).coerce=function(e){return e instanceof Error?e.stack||e.message:e},c.disable=function(){var e=[...c.names.map(r),...c.skips.map(r).map(e=>"-"+e)].join(",");return c.enable(""),e},c.enable=function(e){c.save(e),c.names=[],c.skips=[];let t;const n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?c.skips.push(new RegExp("^"+e.substr(1)+"$")):c.names.push(new RegExp("^"+e+"$")))},c.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=c.skips.length;t<n;t++)if(c.skips[t].test(e))return!1;for(t=0,n=c.names.length;t<n;t++)if(c.names[t].test(e))return!0;return!1},c.humanize=e("ms"),c.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{c[e]=t[e]}),c.names=[],c.skips=[],c.formatters={},c.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return c.colors[m(n)%c.colors.length]},c.enable(c.load()),c}},{ms:11}],6:[function(e,t){"use strict";function i(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}t.exports=function(e,t,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n=n||{},"object"==typeof t&&(n=t,t=""),t&&(n.code=t);try{return i(e,n)}catch(t){n.message=e.message,n.stack=e.stack;var r=function(){};return r.prototype=Object.create(Object.getPrototypeOf(e)),i(new r,n)}}},{}],7:[function(e,t){"use strict";function n(){n.init.call(this)}function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function r(e,t,n,r){var i,o;return a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener||n),i=e._events),o=i[t]),void 0===o?(o=i[t]=n,++e._eventsCount):("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(n=s(e))&&o.length>n&&!o.warned&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,n=n,console&&console.warn&&console.warn(n))),e}function i(e,t,n){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=n,e.wrapFn=t}function o(e,t,n){e=e._events;if(void 0===e)return[];t=e[t];return void 0===t?[]:"function"==typeof t?n?[t.listener||t]:[t]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):u(t,t.length)}function c(e){var t=this._events;if(void 0!==t){e=t[e];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function u(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(n,r,i,o){if("function"==typeof n.on)o.once?n.once(r,i):n.on(r,i);else{if("function"!=typeof n.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n);n.addEventListener(r,function e(t){o.once&&n.removeEventListener(r,e),i(t)})}}var l="object"==typeof Reflect?Reflect:null,f=l&&"function"==typeof l.apply?l.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},d=l&&"function"==typeof l.ownKeys?l.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},p=Number.isNaN||function(e){return e!=e};t.exports=n,t.exports.once=function(a,c){return new Promise(function(e,t){function n(e){a.removeListener(c,r),t(e)}function r(){"function"==typeof a.removeListener&&a.removeListener("error",n),e([].slice.call(arguments))}var i,o,s;h(a,c,r,{once:!0}),"error"!==c&&(o=n,s={once:!0},"function"==typeof(i=a).on&&h(i,"error",o,s))})},(n.EventEmitter=n).prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var y=10;Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(e){if("number"!=typeof e||e<0||p(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");y=e}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||p(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return s(this)},n.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r,i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if((r=0<t.length?t[0]:r)instanceof Error)throw r;i=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw i.context=r,i}e=o[e];if(void 0===e)return!1;if("function"==typeof e)f(e,this,t);else for(var s=e.length,a=u(e,s),n=0;n<s;++n)f(a[n],this,t);return!0},n.prototype.on=n.prototype.addListener=function(e,t){return r(this,e,t,!1)},n.prototype.prependListener=function(e,t){return r(this,e,t,!0)},n.prototype.once=function(e,t){return a(t),this.on(e,i(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,i(this,e,t)),this},n.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(e){var t,n=this._events;if(void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},n.prototype.listeners=function(e){return o(this,e,!0)},n.prototype.rawListeners=function(e){return o(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},n.prototype.listenerCount=c,n.prototype.eventNames=function(){return 0<this._eventsCount?d(this._events):[]}},{}],8:[function(e,t){t.exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},{}],9:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?i-1:0,f=n?-1:1,n=e[t+l];for(l+=f,o=n&(1<<-h)-1,n>>=-h,h+=a;0<h;o=256*o+e[t+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;0<h;s=256*s+e[t+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(n?-1:1);s+=B(2,r),o-=u}return(n?-1:1)*s*B(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,c=Math.LN2,u=Math.log,h=8*o-i-1,l=(1<<h)-1,f=l>>1,d=23===i?B(2,-24)-B(2,-77):0,p=r?0:o-1,y=r?1:-1,r=t<0||0===t&&1/t<0?1:0;for(t=m(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=g(u(t)/c),t*(c=B(2,-s))<1&&(s--,c*=2),2<=(t+=1<=s+f?d/c:d*B(2,1-f))*c&&(s++,c/=2),l<=s+f?(a=0,s=l):1<=s+f?(a=(t*c-1)*B(2,i),s+=f):(a=t*B(2,f-1)*B(2,i),s=0));8<=i;e[n+p]=255&a,p+=y,a/=256,i-=8);for(s=s<<i|a,h+=i;0<h;e[n+p]=255&s,p+=y,s/=256,h-=8);e[n+p-y]|=128*r}},{}],10:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){var n;t&&(e.super_=t,(n=function(){}).prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e)}},{}],11:[function(e,t){var o=Math.round;function s(e,t,n,r){return o(e/n)+" "+r+(1.5*n<=t?"s":"")}t.exports=function(e,t){t=t||{};var n,r,i=typeof e;if("string"==i&&0<e.length)return function(e){if(!(100<(e+="").length)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){e=parseFloat(t[1]),t=(t[2]||"ms").toLowerCase();return"years"===t||"year"===t||"yrs"===t||"yr"===t||"y"===t?315576e5*e:"weeks"===t||"week"===t||"w"===t?6048e5*e:"days"===t||"day"===t||"d"===t?864e5*e:"hours"===t||"hour"===t||"hrs"===t||"hr"===t||"h"===t?36e5*e:"minutes"===t||"minute"===t||"mins"===t||"min"===t||"m"===t?6e4*e:"seconds"===t||"second"===t||"secs"===t||"sec"===t||"s"===t?1e3*e:"milliseconds"===t||"millisecond"===t||"msecs"===t||"msec"===t||"ms"===t?e:void 0}}}(e);if("number"==i&&isFinite(e))return t.long?864e5<=(r=m(n=e))?s(n,r,864e5,"day"):36e5<=r?s(n,r,36e5,"hour"):6e4<=r?s(n,r,6e4,"minute"):1e3<=r?s(n,r,1e3,"second"):n+" ms":864e5<=(n=m(r=e))?o(r/864e5)+"d":36e5<=n?o(r/36e5)+"h":6e4<=n?o(r/6e4)+"m":1e3<=n?o(r/1e3)+"s":r+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(){d&&l&&(d=!1,l.length?f=l.concat(f):p=-1,f.length&&s())}function s(){if(!d){var e=i(o);d=!0;for(var t=f.length;t;){for(l=f,f=[];++p<t;)l&&l[p].run();p=-1,t=f.length}l=null,d=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function c(){}var u,h,t=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var l,f=[],d=!1,p=-1;t.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new a(e,t)),1!==f.length||d||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=c,t.addListener=c,t.once=c,t.off=c,t.removeListener=c,t.removeAllListeners=c,t.emit=c,t.prependListener=c,t.prependOnceListener=c,t.listeners=function(){return[]},t.binding=function(){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],13:[function(e,n){!function(e){!function(){let t;n.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"==typeof window?e:window):e=>(t=t||Promise.resolve()).then(e).catch(e=>setTimeout(()=>{throw e},0))}.call(this)}.call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],14:[function(t,n){!function(s,e){!function(){"use strict";var i=t("safe-buffer").Buffer,o=e.crypto||e.msCrypto;n.exports=o&&o.getRandomValues?function(e,t){if(4294967295<e)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(0<e)if(65536<e)for(var r=0;r<e;r+=65536)o.getRandomValues(n.slice(r,r+65536));else o.getRandomValues(n);return"function"==typeof t?s.nextTick(function(){t(null,n)}):n}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}.call(this)}.call(this,t("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:12,"safe-buffer":30}],15:[function(e,t){"use strict";function n(e,r,t){t=t||Error;var i,n,o,o=(o=i=t,(n=s).prototype=Object.create(o.prototype),(n.prototype.constructor=n).__proto__=o,s);function s(e,t,n){return i.call(this,(e=e,t=t,n=n,"string"==typeof r?r:r(e,t,n)))||this}o.prototype.name=t.name,o.prototype.code=e,a[e]=o}function c(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return e+""}),2<n?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(e+"")}var a={};n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i,o,s,a;return"string"==typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(r="must not be",t=t.replace(/^not /,"")):r="must be",o=e,s=" argument",(void 0===a||a>o.length)&&(a=o.length),t=o.substring(a-s.length,a)===s?"The ".concat(e," ").concat(r," ").concat(c(t,"type")):(i=(i="number"!=typeof i?0:i)+(a=".").length>(s=e).length||-1===s.indexOf(a,i)?"argument":"property",'The "'.concat(e,'" ').concat(i," ").concat(r," ").concat(c(t,"type"))),t+=". Received type ".concat(typeof n)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=a},{}],16:[function(h,l){!function(u){!function(){"use strict";function t(e){return this instanceof t?(i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,void(e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",n))))):new t(e)}function n(){this._writableState.ended||u.nextTick(e,this)}function e(e){e.end()}var r=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n};l.exports=t;var i=h("./_stream_readable"),o=h("./_stream_writable");h("inherits")(t,i);for(var s,a=r(o.prototype),c=0;c<a.length;c++)s=a[c],t.prototype[s]||(t.prototype[s]=o.prototype[s]);Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}.call(this)}.call(this,h("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(e,t){"use strict";function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform");e("inherits")(n,r),n.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":19,inherits:10}],18:[function(U,j){!function(P,M){!function(){"use strict";function n(e,t,n){b=b||U("./_stream_duplex"),"boolean"!=typeof n&&(n=t instanceof b),this.objectMode=!!(e=e||{}).objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=x(this,e,"readableHighWaterMark",n),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(w||(w=U("string_decoder/").StringDecoder),this.decoder=new w(e.encoding),this.encoding=e.encoding)}function r(e){if(b=b||U("./_stream_duplex"),!(this instanceof r))return new r(e);var t=this instanceof b;this._readableState=new n(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),E.call(this)}function i(e,t,n,r,i){C("readableAddChunk",t);var o,s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){{var n;C("onEofChunk"),t.ended||(!t.decoder||(n=t.decoder.end())&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length),t.ended=!0,t.sync?u(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,h(e))))}}(e,a);else if(i||(i=a,o=s=function(e){return R.isBuffer(e)||e instanceof k}(o=t)||"string"==typeof o||void 0===o||i.objectMode?s:new O("chunk",["string","Buffer","Uint8Array"],o)),o)I(e,o);else if(a.objectMode||t&&0<t.length)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===R.prototype||(o=t,t=R.from(o)),r)a.endEmitted?I(e,new L):c(e,a,t,!0);else if(a.ended)I(e,new N);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):l(e,a)):c(e,a,t,!1)}else r||(a.reading=!1,l(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&u(e)),l(e,t)}function o(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e==e?(e>t.highWaterMark&&(t.highWaterMark=(1073741824<=(n=e)?n=1073741824:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)):(t.flowing&&t.length?t.buffer.head.data:t).length;var n}function u(e){var t=e._readableState;C("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(C("emitReadable",t.flowing),t.emittedReadable=!0,P.nextTick(h,e))}function h(e){var t=e._readableState;C("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,g(e)}function l(e,t){t.readingMore||(t.readingMore=!0,P.nextTick(s,e,t))}function s(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(C("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function a(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function f(e){C("readable nexttick read 0"),e.read(0)}function d(e,t){C("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;for(C("flow",t.flowing);t.flowing&&null!==e.read(););}function p(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function y(e){var t=e._readableState;C("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,P.nextTick(m,t,e))}function m(e,t){C("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)&&(!(e=t._writableState)||e.autoDestroy&&e.finished)&&t.destroy()}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var b;(j.exports=r).ReadableState=n;function _(e,t){return e.listeners(t).length}U("events").EventEmitter;var w,e,A,E=U("./internal/streams/stream"),R=U("buffer").Buffer,k=M.Uint8Array||function(){},t=U("util"),C=t&&t.debuglog?t.debuglog("stream"):function(){},S=U("./internal/streams/buffer_list"),T=U("./internal/streams/destroy"),x=U("./internal/streams/state").getHighWaterMark,t=U("../errors").codes,O=t.ERR_INVALID_ARG_TYPE,N=t.ERR_STREAM_PUSH_AFTER_EOF,B=t.ERR_METHOD_NOT_IMPLEMENTED,L=t.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;U("inherits")(r,E);var I=T.errorOrDestroy,D=["error","close","destroy","pause","resume"];Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),r.prototype.destroy=T.destroy,r.prototype._undestroy=T.undestroy,r.prototype._destroy=function(e,t){t(e)},r.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=R.from(e,t),t=""),n=!0),i(this,e,t,!1,n)},r.prototype.unshift=function(e){return i(this,e,null,!0,!1)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(e){var t=new(w=w||U("string_decoder/").StringDecoder)(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this},r.prototype.read=function(e){C("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0===t.highWaterMark?0<t.length:t.length>=t.highWaterMark)||t.ended))return C("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?y:u)(this),null;if(0===(e=o(e,t))&&t.ended)return 0===t.length&&y(this),null;var r=t.needReadable;return C("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&C("length less than watermark",r=!0),t.ended||t.reading?C("reading or ended",r=!1):r&&(C("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=o(n,t))),null===(r=0<e?p(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&y(this)),null!==r&&this.emit("data",r),r},r.prototype._read=function(){I(this,new B("_read()"))},r.prototype.pipe=function(n,e){function r(e,t){C("onunpipe"),e===h&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,C("cleanup"),n.removeListener("close",a),n.removeListener("finish",c),n.removeListener("drain",d),n.removeListener("error",s),n.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",u),h.removeListener("data",o),y=!0,!l.awaitDrain||n._writableState&&!n._writableState.needDrain||d())}function i(){C("onend"),n.end()}function o(e){C("ondata");e=n.write(e);C("dest.write",e),!1===e&&((1===l.pipesCount&&l.pipes===n||1<l.pipesCount&&-1!==v(l.pipes,n))&&!y&&(C("false write response, pause",l.awaitDrain),l.awaitDrain++),h.pause())}function s(e){C("onerror",e),u(),n.removeListener("error",s),0===_(n,"error")&&I(n,e)}function a(){n.removeListener("finish",c),u()}function c(){C("onfinish"),n.removeListener("close",a),u()}function u(){C("unpipe"),h.unpipe(n)}var h=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=n;break;case 1:l.pipes=[l.pipes,n];break;default:l.pipes.push(n)}l.pipesCount+=1,C("pipe count=%d opts=%j",l.pipesCount,e);var t=(!e||!1!==e.end)&&n!==P.stdout&&n!==P.stderr?i:u;l.endEmitted?P.nextTick(t):h.once("end",t),n.on("unpipe",r);var f,d=(f=h,function(){var e=f._readableState;C("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&_(f,"data")&&(e.flowing=!0,g(f))});n.on("drain",d);var p,y=!1;return h.on("data",o),p="error",e=s,"function"==typeof(t=n).prependListener?t.prependListener(p,e):t._events&&t._events[p]?Array.isArray(t._events[p])?t._events[p].unshift(e):t._events[p]=[e,t._events[p]]:t.on(p,e),n.once("close",a),n.once("finish",c),n.emit("pipe",h),l.flowing||(C("pipe resume"),h.resume()),n},r.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=v(t.pipes,e);return-1===s||(t.pipes.splice(s,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},r.prototype.on=function(e,t){var n=E.prototype.on.call(this,e,t),t=this._readableState;return"data"===e?(t.readableListening=0<this.listenerCount("readable"),!1!==t.flowing&&this.resume()):"readable"!=e||t.endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.flowing=!1,t.emittedReadable=!1,C("on readable",t.length,t.reading),t.length?u(this):t.reading||P.nextTick(f,this)),n},r.prototype.addListener=r.prototype.on,r.prototype.removeListener=function(e,t){t=E.prototype.removeListener.call(this,e,t);return"readable"===e&&P.nextTick(a,this),t},r.prototype.removeAllListeners=function(e){var t=E.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||P.nextTick(a,this),t},r.prototype.resume=function(){var e,t,n=this._readableState;return n.flowing||(C("resume"),n.flowing=!n.readableListening,e=this,(t=n).resumeScheduled||(t.resumeScheduled=!0,P.nextTick(d,e,t))),n.paused=!1,this},r.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},r.prototype.wrap=function(t){var e,n=this,r=this._readableState,i=!1;for(e in t.on("end",function(){var e;C("wrapped end"),r.decoder&&!r.ended&&(e=r.decoder.end())&&e.length&&n.push(e),n.push(null)}),t.on("data",function(e){C("wrapped data"),r.decoder&&(e=r.decoder.write(e)),r.objectMode&&null==e||!(r.objectMode||e&&e.length)||n.push(e)||(i=!0,t.pause())}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var o=0;o<D.length;o++)t.on(D[o],this.emit.bind(this,D[o]));return this._read=function(e){C("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(r.prototype[Symbol.asyncIterator]=function(){return(e=void 0===e?U("./internal/streams/async_iterator"):e)(this)}),Object.defineProperty(r.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(r.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(r.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),r._fromList=p,Object.defineProperty(r.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(r.from=function(e,t){return(A=void 0===A?U("./internal/streams/from"):A)(r,e,t)})}.call(this)}.call(this,U("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(e,t){"use strict";function n(e){return this instanceof n?(u.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,(n.writecb=null)!=t&&this.push(t),r(e),(e=this._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),void this.on("prefinish",r)):new n(e)}function r(){var n=this;"function"!=typeof this._flush||this._readableState.destroyed?i(this,null,null):this._flush(function(e,t){i(n,e,t)})}function i(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new c;if(e._transformState.transforming)throw new a;return e.push(null)}t.exports=n;var t=e("../errors").codes,o=t.ERR_METHOD_NOT_IMPLEMENTED,s=t.ERR_MULTIPLE_CALLBACK,a=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=t.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");e("inherits")(n,u),n.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},n.prototype._transform=function(e,t,n){n(new o("_transform()"))},n.prototype._write=function(e,t,n){var r=this._transformState;r.writecb=n,r.writechunk=e,r.writeencoding=t,r.transforming||(t=this._readableState,(r.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},n.prototype._read=function(){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},n.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(N,B){!function(x,O){!function(){"use strict";function h(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}function l(){}function n(e,t,n){i=i||N("./_stream_duplex"),"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!(e=e||{}).objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=v(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;n=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new A;(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0})(n),t?function(e,t,n,r,i){--t.pendingcb,n?(x.nextTick(i,r),x.nextTick(u,e,t),e._writableState.errorEmitted=!0,T(e,r)):(i(r),e._writableState.errorEmitted=!0,T(e,r),u(e,t))}(e,n,r,t,i):((t=a(n)||e.destroyed)||n.corked||n.bufferProcessing||!n.bufferedRequest||s(e,n),r?x.nextTick(o,e,n,t,i):o(e,n,t,i))}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function r(e){var t=this instanceof(i=i||N("./_stream_duplex"));return t||p.call(r,this)?(this._writableState=new n(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),void y.call(this)):new r(e)}function f(e,t,n,r,i,o){n||(a=r,c=i,a=(s=t).objectMode||!1===s.decodeStrings||"string"!=typeof a?a:g.from(a,c),r!==a&&(n=!0,i="buffer",r=a));var s=t.objectMode?1:r.length;t.length+=s;var a,c=t.length<t.highWaterMark;return c||(t.needDrain=!0),t.writing||t.corked?(a=t.lastBufferedRequest,t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):d(e,t,!1,s,r,i,o),c}function d(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function o(e,t,n,r){var i;n||(i=e,0===(n=t).length&&n.needDrain&&(n.needDrain=!1,i.emit("drain"))),t.pendingcb--,r(),u(e,t)}function s(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=Array(r),r=t.corkedRequestsFree;r.entry=n;for(var o=0,s=!0;n;)(i[o]=n).isBuf||(s=!1),n=n.next,o+=1;i.allBuffers=s,d(e,t,!0,t.length,i,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new h(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,u=n.callback;if(d(e,t,!1,t.objectMode?1:a.length,a,c,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function a(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function c(t,n){t._final(function(e){n.pendingcb--,e&&T(t,e),n.prefinished=!0,t.emit("prefinish"),u(t,n)})}function u(e,t){var n,r,i=a(t);return i&&(n=e,(r=t).prefinished||r.finalCalled||("function"!=typeof n._final||r.destroyed?(r.prefinished=!0,n.emit("prefinish")):(r.pendingcb++,r.finalCalled=!0,x.nextTick(c,n,r))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))&&((!(t=e._readableState)||t.autoDestroy&&t.endEmitted)&&e.destroy()),i}var i;(B.exports=r).WritableState=n;var p,e={deprecate:N("util-deprecate")},y=N("./internal/streams/stream"),g=N("buffer").Buffer,m=O.Uint8Array||function(){},t=N("./internal/streams/destroy"),v=N("./internal/streams/state").getHighWaterMark,b=N("../errors").codes,_=b.ERR_INVALID_ARG_TYPE,w=b.ERR_METHOD_NOT_IMPLEMENTED,A=b.ERR_MULTIPLE_CALLBACK,E=b.ERR_STREAM_CANNOT_PIPE,R=b.ERR_STREAM_DESTROYED,k=b.ERR_STREAM_NULL_VALUES,C=b.ERR_STREAM_WRITE_AFTER_END,S=b.ERR_UNKNOWN_ENCODING,T=t.errorOrDestroy;N("inherits")(r,y),n.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(n.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(r,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||!(this!==r)&&e&&e._writableState instanceof n}})):p=function(e){return e instanceof this},r.prototype.pipe=function(){T(this,new E)},r.prototype.write=function(e,t,n){var r,i,o,s,a,c,u=this._writableState,h=!1,r=!u.objectMode&&(r=e,g.isBuffer(r)||r instanceof m);return r&&!g.isBuffer(e)&&(c=e,e=g.from(c)),"function"==typeof t&&(n=t,t=null),r?t="buffer":t||(t=u.defaultEncoding),"function"!=typeof n&&(n=l),u.ending?(o=this,s=n,a=new C,T(o,a),x.nextTick(s,a)):!r&&(c=this,o=u,s=n,null===(a=e)?i=new k:"string"==typeof a||o.objectMode||(i=new _("chunk",["string","Buffer"],a)),i&&(T(c,i),x.nextTick(s,i),!0))||(u.pendingcb++,h=f(this,u,r,e,t,n)),h},r.prototype.cork=function(){this._writableState.corked++},r.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||s(this,e))},r.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),r.prototype._write=function(e,t,n){n(new w("_write()"))},r.prototype._writev=null,r.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||(t=this,n=n,(r=r).ending=!0,u(t,r),n&&(r.finished?x.nextTick(n):t.once("finish",n)),r.ended=!0,t.writable=!1),this},Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),r.prototype.destroy=t.destroy,r.prototype._undestroy=t.undestroy,r.prototype._destroy=function(e,t){t(e)}}.call(this)}.call(this,N("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(r,g){!function(y){!function(){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return{value:e,done:t}}function i(e){var t,n=e[a];null===n||null!==(t=e[d].read())&&(e[l]=null,e[a]=null,e[c]=null,n(o(t,!1)))}var e,s=r("./end-of-stream"),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream"),t=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((n(e={get stream(){return this[d]},next:function(){var n=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[h])return Promise.resolve(o(void 0,!0));if(this[d].destroyed)return new Promise(function(e,t){y.nextTick(function(){n[u]?t(n[u]):e(o(void 0,!0))})});var t,r,i,e=this[l];if(e)t=new Promise((r=e,i=this,function(e,t){r.then(function(){return i[h]?void e(o(void 0,!0)):void i[f](e,t)},t)}));else{e=this[d].read();if(null!==e)return Promise.resolve(o(e,!1));t=new Promise(this[f])}return this[l]=t}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var e=this;return new Promise(function(t,n){e[d].destroy(null,function(e){return e?void n(e):void t(o(void 0,!0))})})}),e),t);g.exports=function(e){var t,r=Object.create(p,(n(t={},d,{value:e,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,c,{value:null,writable:!0}),n(t,u,{value:null,writable:!0}),n(t,h,{value:e._readableState.endEmitted,writable:!0}),n(t,f,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[a]=null,r[c]=null,e(o(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[l]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[l]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}e=r[a];null!==e&&(r[l]=null,r[a]=null,e(o(void 0,!(r[c]=null)))),r[h]=!0}),e.on("readable",function(e){y.nextTick(i,e)}.bind(null,r)),r}}.call(this)}.call(this,r("_process"))},{"./end-of-stream":24,_process:12}],22:[function(e,t){"use strict";function n(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function r(r){for(var i,e=1;e<arguments.length;e++)i=null==arguments[e]?{}:arguments[e],e%2?n(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))});return r}function i(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}var o,s,a,c=e("buffer").Buffer,u=e("util").inspect,h=u&&u.custom||"inspect";function l(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}t.exports=(o=l,(s=[{key:"push",value:function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,n,r=c.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,n=o,c.prototype.copy.call(t,r,n),o+=i.data.length,i=i.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(r+=o===i.length?i:i.slice(0,e),0===(e-=o)){o===i.length?(++n,this.head=t.next||(this.tail=null)):(this.head=t).data=i.slice(o);break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,this.head=n.next||(this.tail=null)):(this.head=n).data=i.slice(o);break}++r}return this.length-=r,t}},{key:h,value:function(e,t){return u(this,r({},t,{depth:0,customInspect:!1}))}}])&&i(o.prototype,s),a&&i(o,a),l)},{buffer:3,util:2}],23:[function(e,t){!function(c){!function(){"use strict";function o(e,t){a(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(a,this,e)):c.nextTick(a,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?n._writableState?n._writableState.errorEmitted?c.nextTick(s,n):(n._writableState.errorEmitted=!0,c.nextTick(o,n,e)):c.nextTick(o,n,e):t?(c.nextTick(s,n),t(e)):c.nextTick(s,n)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}.call(this)}.call(this,e("_process"))},{_process:12}],24:[function(e,t){"use strict";function m(){}var v=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;t.exports=function e(t,n,r){if("function"==typeof n)return e(t,null,n);var i,o;i=r||m,o=!1,r=function(){if(!o){o=!0;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(this,t)}};function s(){t.writable||a()}function a(){y=!(p=!1),d||r.call(t)}function c(){g=!(d=!1),p||r.call(t)}function u(e){r.call(t,e)}function h(){var e;return d&&!g?(t._readableState&&t._readableState.ended||(e=new v),r.call(t,e)):p&&!y?(t._writableState&&t._writableState.ended||(e=new v),r.call(t,e)):void 0}function l(){t.req.on("finish",a)}var f,d=(n=n||{}).readable||!1!==n.readable&&t.readable,p=n.writable||!1!==n.writable&&t.writable,y=t._writableState&&t._writableState.finished,g=t._readableState&&t._readableState.endEmitted;return(f=t).setHeader&&"function"==typeof f.abort?(t.on("complete",a),t.on("abort",h),t.req?l():t.on("request",l)):p&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),!1!==n.error&&t.on("error",u),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",l),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",h)}}},{"../../../errors":15}],25:[function(e,t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(c,e){"use strict";function a(e){if(e)throw e}function u(n,e,t,r){var i,o;i=r,o=!1;var s=!(r=function(){o||(o=!0,i.apply(void 0,arguments))});n.on("close",function(){s=!0}),(f=void 0===f?c("./end-of-stream"):f)(n,{readable:e,writable:t},function(e){return e?r(e):(s=!0,void r())});var a=!1;return function(e){if(!s)return a?void 0:(a=!0,(t=n).setHeader&&"function"==typeof t.abort?n.abort():"function"==typeof n.destroy?n.destroy():void r(e||new p("pipe")));var t}}function h(e){e()}function l(e,t){return e.pipe(t)}var f,t=c("../../../errors").codes,d=t.ERR_MISSING_ARGS,p=t.ERR_STREAM_DESTROYED;e.exports=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var n,i=(n=r).length&&"function"==typeof n[n.length-1]?n.pop():a;if((r=Array.isArray(r[0])?r[0]:r).length<2)throw new d("streams");var o,s=r.map(function(e,t){var n=t<r.length-1;return u(e,n,0<t,function(e){o=o||e,e&&s.forEach(h),n||(s.forEach(h),i(o))})});return r.reduce(l)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(e,t){"use strict";var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,r){var i,o,t=(i=r,o=n,null==(t=t).highWaterMark?i?t[o]:null:t.highWaterMark);if(null==t)return e.objectMode?16:16384;if(!isFinite(t)||g(t)!==t||t<0)throw new s(r?n:"highWaterMark",t);return g(t)}}},{"../../../errors":15}],28:[function(e,t){t.exports=e("events").EventEmitter},{events:7}],29:[function(e,t,n){(((n=t.exports=e("./lib/_stream_readable.js")).Stream=n).Readable=n).Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return s(e,t,n)}var o=e("buffer"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(r(o,n),n.Buffer=i),i.prototype=Object.create(s.prototype),r(s,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=s(e);return void 0===t?e.fill(0):"string"==typeof n?e.fill(t,n):e.fill(t),e},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:3}],31:[function(e,t,n){"use strict";function r(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(d.isEncoding===p||!p(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){var t;switch(this.encoding=r(e),this.encoding){case"utf16le":this.text=a,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=l,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(t)}function o(e){return e<=127?0:6==e>>5?2:14==e>>4?3:30==e>>3?4:2==e>>6?-1:-2}function s(e){var t,n,r=this.lastTotal-this.lastNeed,t=(t=this,128!=(192&(n=e)[0])?(t.lastNeed=0,"�"):1<t.lastNeed&&1<n.length?128!=(192&n[1])?(t.lastNeed=1,"�"):2<t.lastNeed&&2<n.length&&128!=(192&n[2])?(t.lastNeed=2,"�"):void 0:void 0);return void 0===t?this.lastNeed<=e.length?(e.copy(this.lastChar,r,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,r,0,e.length),void(this.lastNeed-=e.length)):t}function a(e,t){if(0!=(e.length-t)%2)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var n=e.toString("utf16le",t);if(n){t=n.charCodeAt(n.length-1);if(55296<=t&&t<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){e=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,e)}return t}function u(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}var d=e("safe-buffer").Buffer,p=d.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};(n.StringDecoder=i).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"�":e},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--r<n||-2===i?0:0<=(i=o(t[r]))?(0<i&&(e.lastNeed=i-2),i):--r<n||-2===i?0:0<=(i=o(t[r]))?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;n=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":30}],32:[function(e,n){!function(t){!function(){function r(e){try{if(!t.localStorage)return}catch(e){return}e=t.localStorage[e];return null!=e&&"true"===(e+"").toLowerCase()}n.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}.call(this)}.call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],"/":[function(e,t){function n(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}const r=e("debug")("simple-peer"),i=e("get-browser-rtc"),o=e("randombytes"),s=e("readable-stream"),a=e("queue-microtask"),c=e("err-code"),u=e("buffer")["Buffer"];class h extends s.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=o(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||o(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||h.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},h.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?c(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):c(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void this.destroy(c(e,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(e=>{this.destroy(c(e,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach(e=>{this.addStream(e)}),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(e=>{this._addIceCandidate(e)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(e=>{this.destroy(c(e,"ERR_SET_REMOTE_DESCRIPTION"))}),t.sdp||t.candidate||t.renegotiate||t.transceiverRequest||this.destroy(c(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(e=>{!t.address||t.address.endsWith(".local")?console.warn("Ignoring unsupported ICE candidate."):this.destroy(c(e,"ERR_ADD_ICE_CANDIDATE"))})}send(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(c(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(e=>{this.addTrack(e,t)})}}addTrack(t,n){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const r=this._senderMap.get(t)||new Map;let e=r.get(n);if(e)throw e.removed?c(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):c(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");e=this._pc.addTrack(t,n),r.set(n,e),this._senderMap.set(t,r),this._needsNegotiation()}}replaceTrack(e,t,n){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const r=this._senderMap.get(e),i=r?r.get(n):null;if(!i)throw c(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null==i.replaceTrack?this.destroy(c(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):i.replaceTrack(t)}}removeTrack(e,t){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw c(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(r):this.destroy(c(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}}removeStream(t){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(e=>{this.removeTrack(e,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,()=>{})}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),a(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()}))}_setupData(e){if(!e.channel)return this.destroy(c(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=65536),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()};let t=!(this._channel.onerror=e=>{e=e.error instanceof Error?e.error:new Error(`Datachannel error: ${e.message} ${e.filename}:${e.lineno}:`+e.colno);this.destroy(c(e,"ERR_DATA_CHANNEL"))});this._closingInterval=setInterval(()=>{t=!(!this._channel||"closing"!==this._channel.readyState)&&(t&&this._onChannelClose(),!0)},5e3)}_read(){}_write(e,t,n){if(this.destroyed)return n(c(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(c(e,"ERR_DATA_CHANNEL"))}65536<this._channel.bufferedAmount?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){var e;this.destroyed||(e=()=>{setTimeout(()=>this.destroy(),1e3)},this._connected?e():this.once("connect",e))}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(!this.destroyed){this.trickle||this.allowHalfTrickle||(t.sdp=n(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{var e;this.destroyed||(e=this._pc.localDescription||t,this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}))};this._pc.setLocalDescription(t).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))}).catch(e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))})}}).catch(e=>{this.destroy(c(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(!this.destroyed){this.trickle||this.allowHalfTrickle||(t.sdp=n(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{var e;this.destroyed||(e=this._pc.localDescription||t,this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}),this.initiator||this._requestMissingTransceivers())};this._pc.setLocalDescription(t).then(()=>{this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))}).catch(e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))})}}).catch(e=>{this.destroy(c(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(c(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){var e,t;this.destroyed||(e=this._pc.iceConnectionState,t=this._pc.iceGatheringState,this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(c(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(c(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED")))}getStats(n){const i=t=>("[object Array]"===Object.prototype.toString.call(t.values)&&t.values.forEach(e=>{Object.assign(t,e)}),t);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(e=>{const t=[];e.forEach(e=>{t.push(i(e))}),n(null,t)},e=>n(e)):0<this._pc.getStats.length?this._pc.getStats(e=>{if(!this.destroyed){const r=[];e.result().forEach(t=>{const n={};t.names().forEach(e=>{n[e]=t.stat(e)}),n.id=t.id,n.type=t.type,n.timestamp=t.timestamp,r.push(i(n))}),n(null,r)}},e=>n(e)):n(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),!this._connected&&!this._connecting&&this._pcReady&&this._channelReady){this._connecting=!0;const a=()=>{this.destroyed||this.getStats((e,t)=>{if(!this.destroyed){const i={},o={},n={};let r=!1;(t=e?[]:t).forEach(e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(o[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(n[e.id]=e)});const s=e=>{r=!0;let t=o[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=+t.port):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=+t.portNumber):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=+t[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let n=i[e.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=+n.port):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=+n.portNumber):"string"==typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=+n[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(t.forEach(e=>{"transport"===e.type&&e.selectedCandidatePairId&&s(n[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&s(e)}),r||Object.keys(n).length&&!Object.keys(o).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(c(e,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const a=this._cb;this._cb=null,a(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(a,100)}})};a()}}_onInterval(){!this._cb||!this._channel||65536<this._channel.bufferedAmount||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(!this.destroyed){let e=t.data;e instanceof ArrayBuffer&&(e=u.from(e)),this.push(e)}}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some(e=>e.id===t.id)||(this._remoteStreams.push(t),a(()=>{this._debug("on stream"),this.emit("stream",t)}))})}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)}}h.WEBRTC_SUPPORT=!!i(),h.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},h.channelConfig={},t.exports=h},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")});try{module.exports=smartload}catch(e){}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).io=t()}(this,function(){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i,o=g.exec(e||""),s={},a=14;a--;)s[m[a]]=o[a]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=(r=s.path,t=r.replace(/\/{2,9}/g,"/").split("/"),"/"!=r.substr(0,1)&&0!==r.length||t.splice(0,1),"/"==r.substr(r.length-1,1)&&t.splice(t.length-1,1),t),s.queryKey=(t=s.query,i={},t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(i[t]=n)}),i),s}var g=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,m=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],e={exports:{}};try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(c){e.exports=!1}var i=e.exports,v="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function b(e){var t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(e){}if(!t)try{return new v[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}function _(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return t.reduce(function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e},{})}var w=setTimeout,A=clearTimeout;function E(e,t){t.useNativeTimers?(e.setTimeoutFn=w.bind(v),e.clearTimeoutFn=A.bind(v)):(e.setTimeoutFn=setTimeout.bind(v),e.clearTimeoutFn=clearTimeout.bind(v))}var t=R;function R(e){if(e)return function(e){for(var t in R.prototype)e[t]=R.prototype[t];return e}(e)}R.prototype.on=R.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},R.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=R.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},R.prototype.emitReserved=R.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},R.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},R.prototype.hasListeners=function(e){return!!this.listeners(e).length};var k=Object.create(null);k.open="0",k.close="1",k.ping="2",k.pong="3",k.message="4",k.upgrade="5",k.noop="6";var C=Object.create(null);Object.keys(k).forEach(function(e){C[k[e]]=e});for(var S={type:"error",data:"parser error"},T="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),x="function"==typeof ArrayBuffer,O=function(e,t,n){var r=e.type,i=e.data;return T&&i instanceof Blob?t?n(i):N(i,n):x&&(i instanceof ArrayBuffer||(e=i,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer))?t?n(i):N(new Blob([i]),n):n(k[r]+(i||""))},N=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="undefined"==typeof Uint8Array?[]:new Uint8Array(256),I=0;I<B.length;I++)L[B.charCodeAt(I)]=I;function D(e,t){if("string"!=typeof e)return{type:"message",data:U(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:function(e,t){if(M){var n=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),h=new Uint8Array(u);for(t=0;t<a;t+=4)n=L[e.charCodeAt(t)],r=L[e.charCodeAt(t+1)],i=L[e.charCodeAt(t+2)],o=L[e.charCodeAt(t+3)],h[c++]=n<<2|r>>4,h[c++]=(15&r)<<4|i>>2,h[c++]=(3&i)<<6|63&o;return u}(e);return U(n,t)}return{base64:!0,data:e}}(e.substring(1),t)}:C[n]?1<e.length?{type:C[n],data:e.substring(1)}:{type:C[n]}:S}var P,M="function"==typeof ArrayBuffer,U=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},j=String.fromCharCode(30),F=function(){h(r,t);var n=d(r);function r(e){var t;return s(this,r),(t=n.call(this)).writable=!1,E(f(t),e),t.opts=e,t.query=e.query,t.readyState="",t.socket=e.socket,t}return u(r,[{key:"onError",value:function(e,t){e=new Error(e);return e.type="TransportError",e.description=t,p(l(r.prototype),"emit",this).call(this,"error",e),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,p(l(r.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(e){e=D(e,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(e){p(l(r.prototype),"emit",this).call(this,"packet",e)}},{key:"onClose",value:function(){this.readyState="closed",p(l(r.prototype),"emit",this).call(this,"close")}}]),r}(),q="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),H={},W=0,Q=0;function V(e){for(var t="";t=q[e%64]+t,0<(e=Math.floor(e/64)););return t}function z(){var e=V(+new Date);return e!==P?(W=0,P=e):e+"."+V(W++)}for(;Q<64;Q++)H[q[Q]]=Q;z.encode=V,z.decode=function(e){var t=0;for(Q=0;Q<e.length;Q++)t=64*t+H[e.charAt(Q)];return t};var Y=z,G=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n},Z=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t},J=function(){h(n,F);var t=d(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).polling=!1,e}return u(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";function n(){t.readyState="paused",e()}var r;this.polling||!this.writable?(r=0,this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))):n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(j),r=[],i=0;i<n.length;i++){var o=D(n[i],t);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach(function(e){return"opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){function e(){t.write([{type:"close"}])}var t=this;"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(e){var n,r,i,o=this;this.writable=!1,n=(e=e).length,r=new Array(n),i=0,e.forEach(function(e,t){O(e,!1,function(e){r[t]=e,++i===n&&(e=r.join(j),o.doWrite(e,function(){o.writable=!0,o.emit("drain")}))})})}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Y()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"==t&&443!==Number(this.opts.port)||"http"==t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);e=G(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(e.length?"?"+e:"")}}]),n}();function X(){}var K=null!=new b({xdomain:!1}).responseType,$=function(){h(o,J);var i=d(o);function o(e){var t,n,r;s(this,o),t=i.call(this,e),"undefined"!=typeof location&&(n="https:"===location.protocol,r=(r=location.port)||(n?"443":"80"),t.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,t.xs=e.secure!==n);e=e&&e.forceBase64;return t.supportsBinary=K&&!e,t}return u(o,[{key:"request",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a(e,{xd:this.xd,xs:this.xs},this.opts),new ee(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,e=this.request({method:"POST",data:e});e.on("success",t),e.on("error",function(e){n.onError("xhr post error",e)})}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e}}]),o}(),ee=function(){h(i,t);var r=d(i);function i(e,t){var n;return s(this,i),E(f(n=r.call(this)),t),n.opts=t,n.method=t.method||"GET",n.uri=e,n.async=!1!==t.async,n.data=void 0!==t.data?t.data:null,n.create(),n}return u(i,[{key:"create",value:function(){var e=this,t=_(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var n=this.xhr=new b(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var r in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}catch(e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?e.onLoad():e.setTimeoutFn(function(){e.onError("number"==typeof n.status?n.status:0)},0))},n.send(this.data)}catch(t){return void this.setTimeoutFn(function(){e.onError(t)},0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=X,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"abort",value:function(){this.cleanup()}}]),i}();function te(){for(var e in ee.requests)ee.requests.hasOwnProperty(e)&&ee.requests[e].abort()}ee.requestsCount=0,ee.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",te):"function"==typeof addEventListener&&addEventListener("onpagehide"in v?"pagehide":"unload",te,!1));var ne="function"==typeof Promise&&"function"==typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},re=v.WebSocket||v.MozWebSocket,ie="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),oe={websocket:function(){h(r,F);var n=d(r);function r(e){var t;return s(this,r),(t=n.call(this,e)).supportsBinary=!e.forceBase64,t}return u(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=ie?{}:_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ie?new re(e,t,n):t?new re(e,t):new re(e)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(r){var i=this;this.writable=!1;for(var e=0;e<r.length;e++)!function(e){var t=r[e],n=e===r.length-1;O(t,i.supportsBinary,function(e){try{i.ws.send(e)}catch(e){}n&&ne(function(){i.writable=!0,i.emit("drain")},i.setTimeoutFn)})}(e)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"==t&&443!==Number(this.opts.port)||"ws"==t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Y()),this.supportsBinary||(e.b64=1);e=G(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(e.length?"?"+e:"")}},{key:"check",value:function(){return!(!re||"__initialize"in re&&this.name===r.prototype.name)}}]),r}(),polling:$},se=function(){h(l,t);var r=d(l);function l(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,l),t=r.call(this),e&&"object"===c(e)&&(n=e,e=null),e?(e=o(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=o(n.host).host),E(f(t),n),t.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=t.secure?"443":"80"),t.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),t.port=n.port||("undefined"!=typeof location&&location.port?location.port:t.secure?"443":"80"),t.transports=n.transports||["polling","websocket"],t.readyState="",t.writeBuffer=[],t.prevBufferLen=0,t.opts=a({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),t.opts.path=t.opts.path.replace(/\/$/,"")+"/","string"==typeof t.opts.query&&(t.opts.query=Z(t.opts.query)),t.id=null,t.upgrades=null,t.pingInterval=null,t.pingTimeout=null,t.pingTimeoutTimer=null,"function"==typeof addEventListener&&(t.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){t.transport&&(t.transport.removeAllListeners(),t.transport.close())},!1),"localhost"!==t.hostname&&(t.offlineEventListener=function(){t.onClose("transport close")},addEventListener("offline",t.offlineEventListener,!1))),t.open(),t}return u(l,[{key:"createTransport",value:function(e){var t=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);t=a({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new oe[e](t)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(function(){t.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),(this.transport=e).on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){t.onClose("transport close")})}},{key:"probe",value:function(e){var t=this,n=this.createTransport(e),r=!1;l.priorWebsocketSuccess=!1;var i=function(){r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",function(e){r||("pong"===e.type&&"probe"===e.data?(t.upgrading=!0,t.emitReserved("upgrading",n),n&&(l.priorWebsocketSuccess="websocket"===n.name,t.transport.pause(function(){r||"closed"!==t.readyState&&(h(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emitReserved("upgrade",n),n=null,t.upgrading=!1,t.flush())}))):((e=new Error("probe error")).transport=n.name,t.emitReserved("upgradeError",e)))}))};function o(){r||(r=!0,h(),n.close(),n=null)}var s=function(e){e=new Error("probe error: "+e);e.transport=n.name,o(),t.emitReserved("upgradeError",e)};function a(){s("transport closed")}function c(){s("socket closed")}function u(e){n&&e.name!==n.name&&o()}var h=function(){n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),t.off("close",c),t.off("upgrading",u)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",c),this.once("upgrading",u),n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){e.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){"function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((n=n||{}).compress=!1!==n.compress,this.emitReserved("packetCreate",n={type:e,data:t,options:n}),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush())}},{key:"close",value:function(){function e(){n.off("upgrade",e),n.off("upgradeError",e),r()}function t(){n.once("upgrade",e),n.once("upgradeError",e)}var n=this,r=function(){n.onClose("forced close"),n.transport.close()};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){(n.upgrading?t:r)()}):(this.upgrading?t:r)()),this}},{key:"onError",value:function(e){l.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),l}();se.protocol=4;var ae,ce="function"==typeof ArrayBuffer,e=Object.prototype.toString,ue="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===e.call(Blob),he="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===e.call(File);function le(e){return ce&&(e instanceof ArrayBuffer||(t=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer))||ue&&e instanceof Blob||he&&e instanceof File;var t}function fe(e){var t=[],n=e.data,e=e;return e.data=function e(t,n){if(!t)return t;if(le(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(Array.isArray(t)){for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=e(t[o],n);return i}if("object"===c(t)&&!(t instanceof Date)){var s,a={};for(s in t)t.hasOwnProperty(s)&&(a[s]=e(t[s],n));return a}return t}(n,t),e.attachments=t.length,{packet:e,buffers:t}}function de(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"===c(t))for(var i in t)t.hasOwnProperty(i)&&(t[i]=e(t[i],n));return t}(e.data,t),e.attachments=void 0,e}($=ae=ae||{})[$.CONNECT=0]="CONNECT",$[$.DISCONNECT=1]="DISCONNECT",$[$.EVENT=2]="EVENT",$[$.ACK=3]="ACK",$[$.CONNECT_ERROR=4]="CONNECT_ERROR",$[$.BINARY_EVENT=5]="BINARY_EVENT",$[$.BINARY_ACK=6]="BINARY_ACK";u(pe,[{key:"encode",value:function(e){return e.type!==ae.EVENT&&e.type!==ae.ACK||!function e(t){if(!t||"object"!==c(t))return!1;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if(le(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}(e)?[this.encodeAsString(e)]:(e.type=e.type===ae.EVENT?ae.BINARY_EVENT:ae.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==ae.BINARY_EVENT&&e.type!==ae.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}},{key:"encodeAsBinary",value:function(e){var t=fe(e),e=this.encodeAsString(t.packet),t=t.buffers;return t.unshift(e),t}}]),e=pe,$=function(){h(a,t);var e=d(a);function a(){return s(this,a),e.call(this)}return u(a,[{key:"add",value:function(e){var t;if("string"==typeof e)(t=this.decodeString(e)).type===ae.BINARY_EVENT||t.type===ae.BINARY_ACK?(this.reconstructor=new ye(t),0===t.attachments&&p(l(a.prototype),"emitReserved",this).call(this,"decoded",t)):p(l(a.prototype),"emitReserved",this).call(this,"decoded",t);else{if(!le(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,p(l(a.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,n={type:Number(e.charAt(0))};if(void 0===ae[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ae.BINARY_EVENT||n.type===ae.BINARY_ACK){for(var r=t+1;"-"!==e.charAt(++t)&&t!=e.length;);r=e.substring(r,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){for(var i=t+1;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(i,t)}else n.nsp="/";i=e.charAt(t+1);if(""!==i&&Number(i)==i){for(var o=t+1;++t;){var s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}n.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){o=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!a.isPayloadValid(n.type,o))throw new Error("invalid payload");n.data=o}return n}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case ae.CONNECT:return"object"===c(t);case ae.DISCONNECT:return void 0===t;case ae.CONNECT_ERROR:return"string"==typeof t||"object"===c(t);case ae.EVENT:case ae.BINARY_EVENT:return Array.isArray(t)&&0<t.length;case ae.ACK:case ae.BINARY_ACK:return Array.isArray(t)}}}]),a}();function pe(){s(this,pe)}var ye=(u(me,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length!==this.reconPack.attachments)return null;e=de(this.reconPack,this.buffers);return this.finishedReconstruction(),e}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),me),ge=Object.freeze({__proto__:null,protocol:5,get PacketType(){return ae},Encoder:e,Decoder:$});function me(e){s(this,me),this.packet=e,this.buffers=[],this.reconPack=e}function ve(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var be=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),_e=function(){h(o,t);var i=d(o);function o(e,t,n){var r;return s(this,o),(r=i.call(this)).connected=!1,r.disconnected=!0,r.receiveBuffer=[],r.sendBuffer=[],r.ids=0,r.acks={},r.flags={},r.io=e,r.nsp=t,n&&n.auth&&(r.auth=n.auth),r.io._autoConnect&&r.open(),r}return u(o,[{key:"subEvents",value:function(){var e;this.subs||(e=this.io,this.subs=[ve(e,"open",this.onopen.bind(this)),ve(e,"packet",this.onpacket.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this))])}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(be.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var i={type:ae.EVENT,data:n,options:{}};i.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(this.acks[this.ids]=n.pop(),i.id=this.ids++);e=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!e||!this.connected)||(this.connected?this.packet(i):this.sendBuffer.push(i)),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth(function(e){t.packet({type:ae.CONNECT,data:e})}):this.packet({type:ae.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case ae.CONNECT:e.data&&e.data.sid?(t=e.data.sid,this.onconnect(t)):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ae.EVENT:case ae.BINARY_EVENT:this.onevent(e);break;case ae.ACK:case ae.BINARY_ACK:this.onack(e);break;case ae.DISCONNECT:this.ondisconnect();break;case ae.CONNECT_ERROR:var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return y(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(this._anyListeners.slice());try{for(n.s();!(t=n.n()).done;)t.value.apply(this,e)}catch(e){n.e(e)}finally{n.f()}}p(l(o.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(r){var i=this,o=!1;return function(){if(!o){o=!0;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.packet({type:ae.ACK,id:r,data:t})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach(function(e){return t.emitEvent(e)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(e){return t.packet(e)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(e){return e()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),o}(),we=Ae;function Ae(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}Ae.prototype.duration=function(){var e,t,n=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(e=Math.random(),t=Math.floor(e*this.jitter*n),n=0==(1&Math.floor(10*e))?n-t:n+t),0|Math.min(n,this.max)},Ae.prototype.reset=function(){this.attempts=0},Ae.prototype.setMin=function(e){this.ms=e},Ae.prototype.setMax=function(e){this.max=e},Ae.prototype.setJitter=function(e){this.jitter=e};var Ee=function(){h(o,t);var i=d(o);function o(e,t){var n,r;s(this,o),(n=i.call(this)).nsps={},n.subs=[],e&&"object"===c(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",n.opts=t,E(f(n),t),n.reconnection(!1!==t.reconnection),n.reconnectionAttempts(t.reconnectionAttempts||1/0),n.reconnectionDelay(t.reconnectionDelay||1e3),n.reconnectionDelayMax(t.reconnectionDelayMax||5e3),n.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),n.backoff=new we({min:n.reconnectionDelay(),max:n.reconnectionDelayMax(),jitter:n.randomizationFactor()}),n.timeout(null==t.timeout?2e4:t.timeout),n._readyState="closed",n.uri=e;e=t.parser||ge;return n.encoder=new e.Encoder,n.decoder=new e.Decoder,n._autoConnect=!1!==t.autoConnect,n._autoConnect&&n.open(),n}return u(o,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var n=this;if(~this._readyState.indexOf("open"))return this;this.engine=new se(this.uri,this.opts);var e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i,o,s=ve(e,"open",function(){r.onopen(),t&&t()}),a=ve(e,"error",function(e){r.cleanup(),r._readyState="closed",n.emitReserved("error",e),t?t(e):r.maybeReconnectOnOpen()});return!1!==this._timeout&&(0===(i=this._timeout)&&s(),o=this.setTimeoutFn(function(){s(),e.close(),e.emit("error",new Error("timeout"))},i),this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})),this.subs.push(s),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(ve(e,"ping",this.onping.bind(this)),ve(e,"data",this.ondata.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this)),ve(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new _e(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach(function(e){return e()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e,n,r=this;this.backoff.attempts>=this._reconnectionAttempts?(this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1):(e=this.backoff.duration(),this._reconnecting=!0,n=this.setTimeoutFn(function(){r.skipReconnect||(t.emitReserved("reconnect_attempt",r.backoff.attempts),r.skipReconnect||r.open(function(e){e?(r._reconnecting=!1,r.reconnect(),t.emitReserved("reconnect_error",e)):r.onreconnect()}))},e),this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)}))}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),o}(),Re={};function ke(e,t){"object"===c(e)&&(t=e,e=void 0);var n=function(e,t,n){var r=1<arguments.length&&void 0!==t?t:"",t=e,n=(n=2<arguments.length?n:void 0)||"undefined"!=typeof location&&location;"string"==typeof(e=null==e?n.protocol+"//"+n.host:e)&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=n.protocol+"//"+e),t=o(e)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";e=-1!==t.host.indexOf(":")?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+e+":"+t.port+r,t.href=t.protocol+"://"+e+(n&&n.port===t.port?"":":"+t.port),t}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,e=n.path,e=Re[i]&&e in Re[i].nsps,i=t.forceNew||t["force new connection"]||!1===t.multiplex||e?new Ee(r,t):(Re[i]||(Re[i]=new Ee(r,t)),Re[i]);return n.query&&!t.query&&(t.query=n.queryKey),i.socket(n.path,t)}return a(ke,{Manager:Ee,Socket:_e,io:ke,connect:ke}),ke});